<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quality Prompts</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg">
    <script src="https://js.puter.com/v2/"></script>
</head>
<body>
    <h1>Quality Prompts</h1>
    <p class="subtitle">Transform simple ideas into production-ready prompts</p>
    <div class="how-to-use-row">
        <button id="btn-info" class="btn-how-to-use">How to use</button>
    </div>

    <!-- Info Modal -->
    <div id="info-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3>About Quality Prompts</h3>
                <button id="btn-close-info" class="btn-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p><strong>Quality Prompts</strong> is a free, serverless tool that transforms simple ideas into high-quality, production-ready prompts. You provide a short description of what you want, and the tool builds a detailed, structured prompt for you. It adds objectives, constraints, deliverables, evaluation criteria, and edge case handling automatically.</p>

                <h4>How it works</h4>
                <p>Start by selecting a subject type such as Development, Writing, Marketing, or Research. Then choose a target model class to optimize the prompt length and complexity for the model you plan to use. Type a short idea into the text field. A sentence or two is ideal. Click Generate Prompt and the tool will return your optimized prompt in three formats: Plain Text for copy-pasting into any chat interface, Structured with markdown headings and sections, and JSON for agents, APIs, or programmatic use.</p>

                <h4>Tips for best results</h4>
                <p>Keep your idea brief. The whole point of this tool is to do the heavy lifting for you, so you do not need to write a full prompt yourself. Focus on what you want accomplished, not on how to prompt for it. The more specific your idea is, the better the output will be. For example, "build a dashboard that tracks user retention by cohort" will produce a much better prompt than just "build a dashboard."</p>

                <h4>Output formats</h4>
                <p>The Plain Text tab gives you a clean, readable prompt you can paste directly into any chat interface. The Structured tab formats the same prompt with markdown headings, sections, and bullet points for easy scanning. The JSON tab provides a programmatic format with separate fields for system instructions, user prompts, constraints, and evaluation criteria, which is useful for agents and API integrations.</p>

                <p>All processing happens through the selected API provider. No data is stored on any server.</p>
            </div>
        </div>
    </div>

    <div id="file-protocol-warning" class="warning-banner hidden">
        <strong>Local file detected.</strong> The Puter API requires a web server. Run this from your project folder:
        <code>python3 -m http.server 8000</code> then open <a href="http://localhost:8000">http://localhost:8000</a>
    </div>

    <div class="container">
        <!-- Settings Panel -->
        <button id="settings-toggle" class="settings-toggle">&#9654; API Settings</button>
        <div id="settings-panel" class="settings-panel hidden">
            <div class="form-group">
                <label for="api-mode">API Provider</label>
                <select id="api-mode">
                    <option value="puter">Puter GPT-OSS (Free, no key required)</option>
                    <option value="chat">OpenAI Chat Completions</option>
                    <option value="responses">OpenAI Responses API</option>
                </select>
            </div>

            <div id="puter-settings">
                <div class="form-group">
                    <label for="puter-model">Model</label>
                    <select id="puter-model">
                        <option value="openai/gpt-oss-120b">gpt-oss-120b (Best quality)</option>
                        <option value="openai/gpt-oss-20b">gpt-oss-20b (Faster)</option>
                        <option value="openai/gpt-oss-20b:free">gpt-oss-20b:free</option>
                    </select>
                </div>
                <p class="settings-hint">Powered by Puter.com — free, no API key needed. Uses the user-pays model.</p>
            </div>

            <div id="openai-settings" class="hidden">
                <div class="form-group">
                    <label for="api-key">API Key</label>
                    <input type="password" id="api-key" placeholder="sk-...">
                </div>
                <div class="form-group">
                    <label for="base-url">Base URL (optional)</label>
                    <input type="text" id="base-url" placeholder="https://api.openai.com/v1">
                </div>
                <div class="form-group">
                    <label for="model-name">Model Name (optional)</label>
                    <input type="text" id="model-name" placeholder="gpt-4o">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="save-key">
                    <label for="save-key">Remember settings in this browser</label>
                </div>
                <p class="settings-hint">Note: The standard OpenAI API (api.openai.com) may not support direct browser requests due to CORS.</p>
            </div>
        </div>

        <hr class="section-divider">

        <!-- Input Section -->
        <div class="form-row">
            <div class="form-group">
                <label for="subject-type">Subject Type</label>
                <select id="subject-type"></select>
            </div>
            <div class="form-group" id="sub-type-group" style="display: none;">
                <label for="sub-type">Prompt Style</label>
                <select id="sub-type">
                    <option value="">General</option>
                </select>
            </div>
            <div class="form-group">
                <label for="model-type">Target Model</label>
                <select id="model-type"></select>
            </div>
        </div>

        <div class="form-group">
            <label for="idea-input">Your Idea</label>
            <textarea id="idea-input" maxlength="1500" placeholder="Keep it short, a sentence or two is ideal. The tool builds the full prompt for you." rows="3"></textarea>
            <div class="char-counter"><span id="char-count">0</span> / 1,500 characters</div>
            <div id="char-limit-hint" class="char-limit-hint hidden">You're at the limit. Remember, the point of this tool is to build the detailed prompt for you — just describe your idea briefly and let Quality Prompts do the rest.</div>
        </div>

        <button id="generate-btn" class="btn-primary">Generate Prompt</button>

        <!-- Error -->
        <div id="error-section" class="error-message hidden"></div>

        <!-- Loading -->
        <div id="loading-section" class="loading-container hidden">
            <div class="spinner"></div>
            <div class="loading-text">Generating your prompt...</div>
            <div class="loading-status">Analyzing subject type, optimizing for target model</div>
        </div>

        <!-- Output -->
        <div id="output-section" class="output-section hidden">
            <hr class="section-divider">
            <h3>Generated Prompt</h3>

            <div class="tab-bar">
                <button class="tab-btn active" data-tab="plain">Plain Text</button>
                <button class="tab-btn" data-tab="structured">Structured</button>
                <button class="tab-btn" data-tab="json">JSON</button>
            </div>

            <!-- Plain Text Tab -->
            <div class="tab-panel active" data-tab="plain">
                <div id="plain-content" class="plain-text-output"></div>
                <div class="btn-row">
                    <button class="btn-small btn-copy" data-target="plain-content">Copy</button>
                    <button class="btn-small btn-download" data-target="plain-content" data-format="txt">Download .txt</button>
                </div>
            </div>

            <!-- Structured Tab -->
            <div class="tab-panel" data-tab="structured">
                <pre id="structured-content"></pre>
                <div class="btn-row">
                    <button class="btn-small btn-copy" data-target="structured-content">Copy</button>
                    <button class="btn-small btn-download" data-target="structured-content" data-format="txt">Download .txt</button>
                </div>
            </div>

            <!-- JSON Tab -->
            <div class="tab-panel" data-tab="json">
                <pre id="json-content"></pre>
                <div class="btn-row">
                    <button class="btn-small btn-copy" data-target="json-content">Copy</button>
                    <button class="btn-small btn-download" data-target="json-content" data-format="json">Download .json</button>
                </div>
            </div>

            <!-- Notes -->
            <div id="optimization-notes" class="optimization-notes hidden">
                <strong>Optimization Notes</strong>
                <span></span>
            </div>

            <div id="token-estimate" class="token-estimate hidden"></div>
        </div>
    </div>

    <footer class="license-section">
        <div class="footer-links">
            <div class="license-badge">
                MIT License
                <div class="license-tooltip">
                    MIT License<br><br>
                    Copyright (c) 2026 Austin Harshberger<br><br>
                    Permission is hereby granted, free of charge, to any person obtaining a copy
                    of this software and associated documentation files (the "Software"), to deal
                    in the Software without restriction, including without limitation the rights
                    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
                    copies of the Software, and to permit persons to whom the Software is
                    furnished to do so, subject to the following conditions:<br><br>
                    The above copyright notice and this permission notice shall be included in all
                    copies or substantial portions of the Software.
                </div>
            </div>
            <a href="https://attest.ink/verify/?data=eyJ2ZXJzaW9uIjoiMi4wIiwiaWQiOiIyMDI2LTAyLTE1LXF1YWxpdHlwcm9tcHRzIiwiY29udGVudF9uYW1lIjoiUXVhbGl0eSBQcm9tcHRzIiwidGltZXN0YW1wIjoiMjAyNi0wMi0xNVQwMDowMDowMC4wMDBaIiwicGxhdGZvcm0iOiJhdHRlc3QuaW5rIiwibW9kZWwiOiJjbGF1ZGUtb3B1cy00LTYiLCJyb2xlIjoiZ2VuZXJhdGVkIiwiZG9jdW1lbnRfdHlwZSI6ImNvZGUiLCJhdXRob3IiOiI5NyAxMTUgMTA0In0=" class="attest-badge" target="_blank" rel="noopener noreferrer">
                built with ai
            </a>
        </div>
        <div class="author-info">
            Created by Austin Harshberger
        </div>
    </footer>

    <script src="./js/promptEngine.js"></script>
    <script src="./js/apiClient.js"></script>
    <script src="./js/uiRenderer.js"></script>
    <script src="./js/app.js"></script>
</body>
</html>
